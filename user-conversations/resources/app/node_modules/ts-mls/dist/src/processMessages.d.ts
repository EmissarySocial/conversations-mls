import { ClientState } from "./clientState.js";
import { IncomingMessageAction, IncomingMessageCallback } from "./incomingMessageAction.js";
import { MlsFramedMessage } from "./message.js";
import { PrivateMessage } from "./privateMessage.js";
import { PublicMessage } from "./publicMessage.js";
import type { MlsContext } from "./mlsContext.js";
/** @public */
export type ProcessMessageResult = {
    kind: "newState";
    newState: ClientState;
    actionTaken: IncomingMessageAction;
    consumed: Uint8Array[];
} | {
    kind: "applicationMessage";
    message: Uint8Array;
    newState: ClientState;
    consumed: Uint8Array[];
};
/**
 * Process private message and apply proposal or commit and return the updated ClientState or return an application message
 *
 * @public
 */
export declare function processPrivateMessage(params: {
    context: MlsContext;
    state: ClientState;
    privateMessage: PrivateMessage;
    callback?: IncomingMessageCallback;
}): Promise<ProcessMessageResult>;
/** @public */
export interface NewStateWithActionTaken {
    newState: ClientState;
    actionTaken: IncomingMessageAction;
    consumed: Uint8Array[];
}
/** @public */
export declare function processPublicMessage(params: {
    context: MlsContext;
    state: ClientState;
    publicMessage: PublicMessage;
    callback?: IncomingMessageCallback;
}): Promise<NewStateWithActionTaken>;
/** @public */
export declare function processMessage(params: {
    context: MlsContext;
    state: ClientState;
    message: MlsFramedMessage;
    callback?: IncomingMessageCallback;
}): Promise<ProcessMessageResult>;
